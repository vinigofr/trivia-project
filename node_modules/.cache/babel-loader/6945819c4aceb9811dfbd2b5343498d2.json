{"ast":null,"code":"'use strict';\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nconst color = require('kleur');\n\nconst Prompt = require('./prompt');\n\nconst _require = require('../util'),\n      style = _require.style,\n      clear = _require.clear,\n      figures = _require.figures;\n\nconst _require2 = require('sisteransi'),\n      erase = _require2.erase,\n      cursor = _require2.cursor;\n\nconst _require3 = require('../dateparts'),\n      DatePart = _require3.DatePart,\n      Meridiem = _require3.Meridiem,\n      Day = _require3.Day,\n      Hours = _require3.Hours,\n      Milliseconds = _require3.Milliseconds,\n      Minutes = _require3.Minutes,\n      Month = _require3.Month,\n      Seconds = _require3.Seconds,\n      Year = _require3.Year;\n\nconst regex = /\\\\(.)|\"((?:\\\\[\"\\\\]|[^\"])+)\"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g;\nconst regexGroups = {\n  1: ({\n    token\n  }) => token.replace(/\\\\(.)/g, '$1'),\n  2: opts => new Day(opts),\n  // Day // TODO\n  3: opts => new Month(opts),\n  // Month\n  4: opts => new Year(opts),\n  // Year\n  5: opts => new Meridiem(opts),\n  // AM/PM // TODO (special)\n  6: opts => new Hours(opts),\n  // Hours\n  7: opts => new Minutes(opts),\n  // Minutes\n  8: opts => new Seconds(opts),\n  // Seconds\n  9: opts => new Milliseconds(opts) // Fractional seconds\n\n};\nconst dfltLocales = {\n  months: 'January,February,March,April,May,June,July,August,September,October,November,December'.split(','),\n  monthsShort: 'Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec'.split(','),\n  weekdays: 'Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday'.split(','),\n  weekdaysShort: 'Sun,Mon,Tue,Wed,Thu,Fri,Sat'.split(',')\n  /**\n   * DatePrompt Base Element\n   * @param {Object} opts Options\n   * @param {String} opts.message Message\n   * @param {Number} [opts.initial] Index of default value\n   * @param {String} [opts.mask] The format mask\n   * @param {object} [opts.locales] The date locales\n   * @param {String} [opts.error] The error message shown on invalid value\n   * @param {Function} [opts.validate] Function to validate the submitted value\n   * @param {Stream} [opts.stdin] The Readable stream to listen to\n   * @param {Stream} [opts.stdout] The Writable stream to write readline data to\n   */\n\n};\n\nclass DatePrompt extends Prompt {\n  constructor(opts = {}) {\n    super(opts);\n    this.msg = opts.message;\n    this.cursor = 0;\n    this.typed = '';\n    this.locales = Object.assign(dfltLocales, opts.locales);\n    this._date = opts.initial || new Date();\n    this.errorMsg = opts.error || 'Please Enter A Valid Value';\n\n    this.validator = opts.validate || (() => true);\n\n    this.mask = opts.mask || 'YYYY-MM-DD HH:mm:ss';\n    this.clear = clear('');\n    this.render();\n  }\n\n  get value() {\n    return this.date;\n  }\n\n  get date() {\n    return this._date;\n  }\n\n  set date(date) {\n    if (date) this._date.setTime(date.getTime());\n  }\n\n  set mask(mask) {\n    let result;\n    this.parts = [];\n\n    while (result = regex.exec(mask)) {\n      let match = result.shift();\n      let idx = result.findIndex(gr => gr != null);\n      this.parts.push(idx in regexGroups ? regexGroups[idx]({\n        token: result[idx] || match,\n        date: this.date,\n        parts: this.parts,\n        locales: this.locales\n      }) : result[idx] || match);\n    }\n\n    let parts = this.parts.reduce((arr, i) => {\n      if (typeof i === 'string' && typeof arr[arr.length - 1] === 'string') arr[arr.length - 1] += i;else arr.push(i);\n      return arr;\n    }, []);\n    this.parts.splice(0);\n    this.parts.push(...parts);\n    this.reset();\n  }\n\n  moveCursor(n) {\n    this.typed = '';\n    this.cursor = n;\n    this.fire();\n  }\n\n  reset() {\n    this.moveCursor(this.parts.findIndex(p => p instanceof DatePart));\n    this.fire();\n    this.render();\n  }\n\n  abort() {\n    this.done = this.aborted = true;\n    this.error = false;\n    this.fire();\n    this.render();\n    this.out.write('\\n');\n    this.close();\n  }\n\n  validate() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let valid = yield _this.validator(_this.value);\n\n      if (typeof valid === 'string') {\n        _this.errorMsg = valid;\n        valid = false;\n      }\n\n      _this.error = !valid;\n    })();\n  }\n\n  submit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.validate();\n\n      if (_this2.error) {\n        _this2.color = 'red';\n\n        _this2.fire();\n\n        _this2.render();\n\n        return;\n      }\n\n      _this2.done = true;\n      _this2.aborted = false;\n\n      _this2.fire();\n\n      _this2.render();\n\n      _this2.out.write('\\n');\n\n      _this2.close();\n    })();\n  }\n\n  up() {\n    this.typed = '';\n    this.parts[this.cursor].up();\n    this.render();\n  }\n\n  down() {\n    this.typed = '';\n    this.parts[this.cursor].down();\n    this.render();\n  }\n\n  left() {\n    let prev = this.parts[this.cursor].prev();\n    if (prev == null) return this.bell();\n    this.moveCursor(this.parts.indexOf(prev));\n    this.render();\n  }\n\n  right() {\n    let next = this.parts[this.cursor].next();\n    if (next == null) return this.bell();\n    this.moveCursor(this.parts.indexOf(next));\n    this.render();\n  }\n\n  next() {\n    let next = this.parts[this.cursor].next();\n    this.moveCursor(next ? this.parts.indexOf(next) : this.parts.findIndex(part => part instanceof DatePart));\n    this.render();\n  }\n\n  _(c) {\n    if (/\\d/.test(c)) {\n      this.typed += c;\n      this.parts[this.cursor].setTo(this.typed);\n      this.render();\n    }\n  }\n\n  render() {\n    if (this.closed) return;\n    if (this.firstRender) this.out.write(cursor.hide);else this.out.write(clear(this.outputText));\n    super.render(); // Print prompt\n\n    this.outputText = [style.symbol(this.done, this.aborted), color.bold(this.msg), style.delimiter(false), this.parts.reduce((arr, p, idx) => arr.concat(idx === this.cursor && !this.done ? color.cyan().underline(p.toString()) : p), []).join('')].join(' '); // Print error\n\n    if (this.error) {\n      this.outputText += this.errorMsg.split('\\n').reduce((a, l, i) => a + `\\n${i ? ` ` : figures.pointerSmall} ${color.red().italic(l)}`, ``);\n    }\n\n    this.out.write(erase.line + cursor.to(0) + this.outputText);\n  }\n\n}\n\nmodule.exports = DatePrompt;","map":{"version":3,"sources":["/home/vinicius/Desktop/Projects/sd-011-project-trivia-react-redux/node_modules/prompts/dist/elements/date.js"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","color","require","Prompt","_require","style","clear","figures","_require2","erase","cursor","_require3","DatePart","Meridiem","Day","Hours","Milliseconds","Minutes","Month","Seconds","Year","regex","regexGroups","token","replace","opts","dfltLocales","months","split","monthsShort","weekdays","weekdaysShort","DatePrompt","constructor","msg","message","typed","locales","Object","assign","_date","initial","Date","errorMsg","validator","validate","mask","render","date","setTime","getTime","result","parts","exec","match","shift","idx","findIndex","gr","push","reduce","arr","i","length","splice","reset","moveCursor","n","fire","p","abort","aborted","out","write","close","_this","valid","submit","_this2","up","down","left","prev","bell","indexOf","right","next","part","_","c","test","setTo","closed","firstRender","hide","outputText","symbol","bold","delimiter","concat","cyan","underline","toString","join","a","l","pointerSmall","red","italic","line","to","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nconst color = require('kleur');\n\nconst Prompt = require('./prompt');\n\nconst _require = require('../util'),\n      style = _require.style,\n      clear = _require.clear,\n      figures = _require.figures;\n\nconst _require2 = require('sisteransi'),\n      erase = _require2.erase,\n      cursor = _require2.cursor;\n\nconst _require3 = require('../dateparts'),\n      DatePart = _require3.DatePart,\n      Meridiem = _require3.Meridiem,\n      Day = _require3.Day,\n      Hours = _require3.Hours,\n      Milliseconds = _require3.Milliseconds,\n      Minutes = _require3.Minutes,\n      Month = _require3.Month,\n      Seconds = _require3.Seconds,\n      Year = _require3.Year;\n\nconst regex = /\\\\(.)|\"((?:\\\\[\"\\\\]|[^\"])+)\"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g;\nconst regexGroups = {\n  1: ({\n    token\n  }) => token.replace(/\\\\(.)/g, '$1'),\n  2: opts => new Day(opts),\n  // Day // TODO\n  3: opts => new Month(opts),\n  // Month\n  4: opts => new Year(opts),\n  // Year\n  5: opts => new Meridiem(opts),\n  // AM/PM // TODO (special)\n  6: opts => new Hours(opts),\n  // Hours\n  7: opts => new Minutes(opts),\n  // Minutes\n  8: opts => new Seconds(opts),\n  // Seconds\n  9: opts => new Milliseconds(opts) // Fractional seconds\n\n};\nconst dfltLocales = {\n  months: 'January,February,March,April,May,June,July,August,September,October,November,December'.split(','),\n  monthsShort: 'Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec'.split(','),\n  weekdays: 'Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday'.split(','),\n  weekdaysShort: 'Sun,Mon,Tue,Wed,Thu,Fri,Sat'.split(',')\n  /**\n   * DatePrompt Base Element\n   * @param {Object} opts Options\n   * @param {String} opts.message Message\n   * @param {Number} [opts.initial] Index of default value\n   * @param {String} [opts.mask] The format mask\n   * @param {object} [opts.locales] The date locales\n   * @param {String} [opts.error] The error message shown on invalid value\n   * @param {Function} [opts.validate] Function to validate the submitted value\n   * @param {Stream} [opts.stdin] The Readable stream to listen to\n   * @param {Stream} [opts.stdout] The Writable stream to write readline data to\n   */\n\n};\n\nclass DatePrompt extends Prompt {\n  constructor(opts = {}) {\n    super(opts);\n    this.msg = opts.message;\n    this.cursor = 0;\n    this.typed = '';\n    this.locales = Object.assign(dfltLocales, opts.locales);\n    this._date = opts.initial || new Date();\n    this.errorMsg = opts.error || 'Please Enter A Valid Value';\n\n    this.validator = opts.validate || (() => true);\n\n    this.mask = opts.mask || 'YYYY-MM-DD HH:mm:ss';\n    this.clear = clear('');\n    this.render();\n  }\n\n  get value() {\n    return this.date;\n  }\n\n  get date() {\n    return this._date;\n  }\n\n  set date(date) {\n    if (date) this._date.setTime(date.getTime());\n  }\n\n  set mask(mask) {\n    let result;\n    this.parts = [];\n\n    while (result = regex.exec(mask)) {\n      let match = result.shift();\n      let idx = result.findIndex(gr => gr != null);\n      this.parts.push(idx in regexGroups ? regexGroups[idx]({\n        token: result[idx] || match,\n        date: this.date,\n        parts: this.parts,\n        locales: this.locales\n      }) : result[idx] || match);\n    }\n\n    let parts = this.parts.reduce((arr, i) => {\n      if (typeof i === 'string' && typeof arr[arr.length - 1] === 'string') arr[arr.length - 1] += i;else arr.push(i);\n      return arr;\n    }, []);\n    this.parts.splice(0);\n    this.parts.push(...parts);\n    this.reset();\n  }\n\n  moveCursor(n) {\n    this.typed = '';\n    this.cursor = n;\n    this.fire();\n  }\n\n  reset() {\n    this.moveCursor(this.parts.findIndex(p => p instanceof DatePart));\n    this.fire();\n    this.render();\n  }\n\n  abort() {\n    this.done = this.aborted = true;\n    this.error = false;\n    this.fire();\n    this.render();\n    this.out.write('\\n');\n    this.close();\n  }\n\n  validate() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let valid = yield _this.validator(_this.value);\n\n      if (typeof valid === 'string') {\n        _this.errorMsg = valid;\n        valid = false;\n      }\n\n      _this.error = !valid;\n    })();\n  }\n\n  submit() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this2.validate();\n\n      if (_this2.error) {\n        _this2.color = 'red';\n\n        _this2.fire();\n\n        _this2.render();\n\n        return;\n      }\n\n      _this2.done = true;\n      _this2.aborted = false;\n\n      _this2.fire();\n\n      _this2.render();\n\n      _this2.out.write('\\n');\n\n      _this2.close();\n    })();\n  }\n\n  up() {\n    this.typed = '';\n    this.parts[this.cursor].up();\n    this.render();\n  }\n\n  down() {\n    this.typed = '';\n    this.parts[this.cursor].down();\n    this.render();\n  }\n\n  left() {\n    let prev = this.parts[this.cursor].prev();\n    if (prev == null) return this.bell();\n    this.moveCursor(this.parts.indexOf(prev));\n    this.render();\n  }\n\n  right() {\n    let next = this.parts[this.cursor].next();\n    if (next == null) return this.bell();\n    this.moveCursor(this.parts.indexOf(next));\n    this.render();\n  }\n\n  next() {\n    let next = this.parts[this.cursor].next();\n    this.moveCursor(next ? this.parts.indexOf(next) : this.parts.findIndex(part => part instanceof DatePart));\n    this.render();\n  }\n\n  _(c) {\n    if (/\\d/.test(c)) {\n      this.typed += c;\n      this.parts[this.cursor].setTo(this.typed);\n      this.render();\n    }\n  }\n\n  render() {\n    if (this.closed) return;\n    if (this.firstRender) this.out.write(cursor.hide);else this.out.write(clear(this.outputText));\n    super.render(); // Print prompt\n\n    this.outputText = [style.symbol(this.done, this.aborted), color.bold(this.msg), style.delimiter(false), this.parts.reduce((arr, p, idx) => arr.concat(idx === this.cursor && !this.done ? color.cyan().underline(p.toString()) : p), []).join('')].join(' '); // Print error\n\n    if (this.error) {\n      this.outputText += this.errorMsg.split('\\n').reduce((a, l, i) => a + `\\n${i ? ` ` : figures.pointerSmall} ${color.red().italic(l)}`, ``);\n    }\n\n    this.out.write(erase.line + cursor.to(0) + this.outputText);\n  }\n\n}\n\nmodule.exports = DatePrompt;"]},"metadata":{},"sourceType":"script"}