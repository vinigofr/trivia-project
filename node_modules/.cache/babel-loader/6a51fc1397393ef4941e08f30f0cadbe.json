{"ast":null,"code":"'use strict';\n\nconst color = require('kleur');\n\nconst Prompt = require('./prompt');\n\nconst _require = require('../util'),\n      style = _require.style,\n      clear = _require.clear,\n      figures = _require.figures,\n      wrap = _require.wrap,\n      entriesToDisplay = _require.entriesToDisplay;\n\nconst _require2 = require('sisteransi'),\n      cursor = _require2.cursor;\n/**\n * SelectPrompt Base Element\n * @param {Object} opts Options\n * @param {String} opts.message Message\n * @param {Array} opts.choices Array of choice objects\n * @param {String} [opts.hint] Hint to display\n * @param {Number} [opts.initial] Index of default value\n * @param {Stream} [opts.stdin] The Readable stream to listen to\n * @param {Stream} [opts.stdout] The Writable stream to write readline data to\n * @param {Number} [opts.optionsPerPage=10] Max options to display at once\n */\n\n\nclass SelectPrompt extends Prompt {\n  constructor(opts = {}) {\n    super(opts);\n    this.msg = opts.message;\n    this.hint = opts.hint || '- Use arrow-keys. Return to submit.';\n    this.warn = opts.warn || '- This option is disabled';\n    this.cursor = opts.initial || 0;\n    this.choices = opts.choices.map((ch, idx) => {\n      if (typeof ch === 'string') ch = {\n        title: ch,\n        value: idx\n      };\n      return {\n        title: ch && (ch.title || ch.value || ch),\n        value: ch && (ch.value === undefined ? idx : ch.value),\n        description: ch && ch.description,\n        selected: ch && ch.selected,\n        disabled: ch && ch.disabled\n      };\n    });\n    this.optionsPerPage = opts.optionsPerPage || 10;\n    this.value = (this.choices[this.cursor] || {}).value;\n    this.clear = clear('');\n    this.render();\n  }\n\n  moveCursor(n) {\n    this.cursor = n;\n    this.value = this.choices[n].value;\n    this.fire();\n  }\n\n  reset() {\n    this.moveCursor(0);\n    this.fire();\n    this.render();\n  }\n\n  abort() {\n    this.done = this.aborted = true;\n    this.fire();\n    this.render();\n    this.out.write('\\n');\n    this.close();\n  }\n\n  submit() {\n    if (!this.selection.disabled) {\n      this.done = true;\n      this.aborted = false;\n      this.fire();\n      this.render();\n      this.out.write('\\n');\n      this.close();\n    } else this.bell();\n  }\n\n  first() {\n    this.moveCursor(0);\n    this.render();\n  }\n\n  last() {\n    this.moveCursor(this.choices.length - 1);\n    this.render();\n  }\n\n  up() {\n    if (this.cursor === 0) return this.bell();\n    this.moveCursor(this.cursor - 1);\n    this.render();\n  }\n\n  down() {\n    if (this.cursor === this.choices.length - 1) return this.bell();\n    this.moveCursor(this.cursor + 1);\n    this.render();\n  }\n\n  next() {\n    this.moveCursor((this.cursor + 1) % this.choices.length);\n    this.render();\n  }\n\n  _(c, key) {\n    if (c === ' ') return this.submit();\n  }\n\n  get selection() {\n    return this.choices[this.cursor];\n  }\n\n  render() {\n    if (this.closed) return;\n    if (this.firstRender) this.out.write(cursor.hide);else this.out.write(clear(this.outputText));\n    super.render();\n\n    let _entriesToDisplay = entriesToDisplay(this.cursor, this.choices.length, this.optionsPerPage),\n        startIndex = _entriesToDisplay.startIndex,\n        endIndex = _entriesToDisplay.endIndex; // Print prompt\n\n\n    this.outputText = [style.symbol(this.done, this.aborted), color.bold(this.msg), style.delimiter(false), this.done ? this.selection.title : this.selection.disabled ? color.yellow(this.warn) : color.gray(this.hint)].join(' '); // Print choices\n\n    if (!this.done) {\n      this.outputText += '\\n';\n\n      for (let i = startIndex; i < endIndex; i++) {\n        let title,\n            prefix,\n            desc = '',\n            v = this.choices[i]; // Determine whether to display \"more choices\" indicators\n\n        if (i === startIndex && startIndex > 0) {\n          prefix = figures.arrowUp;\n        } else if (i === endIndex - 1 && endIndex < this.choices.length) {\n          prefix = figures.arrowDown;\n        } else {\n          prefix = ' ';\n        }\n\n        if (v.disabled) {\n          title = this.cursor === i ? color.gray().underline(v.title) : color.strikethrough().gray(v.title);\n          prefix = (this.cursor === i ? color.bold().gray(figures.pointer) + ' ' : '  ') + prefix;\n        } else {\n          title = this.cursor === i ? color.cyan().underline(v.title) : v.title;\n          prefix = (this.cursor === i ? color.cyan(figures.pointer) + ' ' : '  ') + prefix;\n\n          if (v.description && this.cursor === i) {\n            desc = ` - ${v.description}`;\n\n            if (prefix.length + title.length + desc.length >= this.out.columns || v.description.split(/\\r?\\n/).length > 1) {\n              desc = '\\n' + wrap(v.description, {\n                margin: 3,\n                width: this.out.columns\n              });\n            }\n          }\n        }\n\n        this.outputText += `${prefix} ${title}${color.gray(desc)}\\n`;\n      }\n    }\n\n    this.out.write(this.outputText);\n  }\n\n}\n\nmodule.exports = SelectPrompt;","map":{"version":3,"sources":["/home/vinicius/Desktop/Projects/sd-011-project-trivia-react-redux/node_modules/prompts/lib/elements/select.js"],"names":["color","require","Prompt","style","clear","figures","wrap","entriesToDisplay","cursor","SelectPrompt","constructor","opts","msg","message","hint","warn","initial","choices","map","ch","idx","title","value","undefined","description","selected","disabled","optionsPerPage","render","moveCursor","n","fire","reset","abort","done","aborted","out","write","close","submit","selection","bell","first","last","length","up","down","next","_","c","key","closed","firstRender","hide","outputText","startIndex","endIndex","symbol","bold","delimiter","yellow","gray","join","i","prefix","desc","v","arrowUp","arrowDown","underline","strikethrough","pointer","cyan","columns","split","margin","width","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nconst color = require('kleur');\nconst Prompt = require('./prompt');\nconst { style, clear, figures, wrap, entriesToDisplay } = require('../util');\nconst { cursor } = require('sisteransi');\n\n/**\n * SelectPrompt Base Element\n * @param {Object} opts Options\n * @param {String} opts.message Message\n * @param {Array} opts.choices Array of choice objects\n * @param {String} [opts.hint] Hint to display\n * @param {Number} [opts.initial] Index of default value\n * @param {Stream} [opts.stdin] The Readable stream to listen to\n * @param {Stream} [opts.stdout] The Writable stream to write readline data to\n * @param {Number} [opts.optionsPerPage=10] Max options to display at once\n */\nclass SelectPrompt extends Prompt {\n  constructor(opts={}) {\n    super(opts);\n    this.msg = opts.message;\n    this.hint = opts.hint || '- Use arrow-keys. Return to submit.';\n    this.warn = opts.warn || '- This option is disabled';\n    this.cursor = opts.initial || 0;\n    this.choices = opts.choices.map((ch, idx) => {\n      if (typeof ch === 'string')\n        ch = {title: ch, value: idx};\n      return {\n        title: ch && (ch.title || ch.value || ch),\n        value: ch && (ch.value === undefined ? idx : ch.value),\n        description: ch && ch.description,\n        selected: ch && ch.selected,\n        disabled: ch && ch.disabled\n      };\n    });\n    this.optionsPerPage = opts.optionsPerPage || 10;\n    this.value = (this.choices[this.cursor] || {}).value;\n    this.clear = clear('');\n    this.render();\n  }\n\n  moveCursor(n) {\n    this.cursor = n;\n    this.value = this.choices[n].value;\n    this.fire();\n  }\n\n  reset() {\n    this.moveCursor(0);\n    this.fire();\n    this.render();\n  }\n\n  abort() {\n    this.done = this.aborted = true;\n    this.fire();\n    this.render();\n    this.out.write('\\n');\n    this.close();\n  }\n\n  submit() {\n    if (!this.selection.disabled) {\n      this.done = true;\n      this.aborted = false;\n      this.fire();\n      this.render();\n      this.out.write('\\n');\n      this.close();\n    } else\n      this.bell();\n  }\n\n  first() {\n    this.moveCursor(0);\n    this.render();\n  }\n\n  last() {\n    this.moveCursor(this.choices.length - 1);\n    this.render();\n  }\n\n  up() {\n    if (this.cursor === 0) return this.bell();\n    this.moveCursor(this.cursor - 1);\n    this.render();\n  }\n\n  down() {\n    if (this.cursor === this.choices.length - 1) return this.bell();\n    this.moveCursor(this.cursor + 1);\n    this.render();\n  }\n\n  next() {\n    this.moveCursor((this.cursor + 1) % this.choices.length);\n    this.render();\n  }\n\n  _(c, key) {\n    if (c === ' ') return this.submit();\n  }\n\n  get selection() {\n    return this.choices[this.cursor];\n  }\n\n  render() {\n    if (this.closed) return;\n    if (this.firstRender) this.out.write(cursor.hide);\n    else this.out.write(clear(this.outputText));\n    super.render();\n\n    let { startIndex, endIndex } = entriesToDisplay(this.cursor, this.choices.length, this.optionsPerPage);\n\n    // Print prompt\n    this.outputText = [\n      style.symbol(this.done, this.aborted),\n      color.bold(this.msg),\n      style.delimiter(false),\n      this.done ? this.selection.title : this.selection.disabled\n          ? color.yellow(this.warn) : color.gray(this.hint)\n    ].join(' ');\n\n    // Print choices\n    if (!this.done) {\n      this.outputText += '\\n';\n      for (let i = startIndex; i < endIndex; i++) {\n        let title, prefix, desc = '', v = this.choices[i];\n\n        // Determine whether to display \"more choices\" indicators\n        if (i === startIndex && startIndex > 0) {\n          prefix = figures.arrowUp;\n        } else if (i === endIndex - 1 && endIndex < this.choices.length) {\n          prefix = figures.arrowDown;\n        } else {\n          prefix = ' ';\n        }\n\n        if (v.disabled) {\n          title = this.cursor === i ? color.gray().underline(v.title) : color.strikethrough().gray(v.title);\n          prefix = (this.cursor === i ? color.bold().gray(figures.pointer) + ' ' : '  ') + prefix;\n        } else {\n          title = this.cursor === i ? color.cyan().underline(v.title) : v.title;\n          prefix = (this.cursor === i ? color.cyan(figures.pointer) + ' ' : '  ') + prefix;\n          if (v.description && this.cursor === i) {\n            desc = ` - ${v.description}`;\n            if (prefix.length + title.length + desc.length >= this.out.columns\n                || v.description.split(/\\r?\\n/).length > 1) {\n              desc = '\\n' + wrap(v.description, { margin: 3, width: this.out.columns });\n            }\n          }\n        }\n\n        this.outputText += `${prefix} ${title}${color.gray(desc)}\\n`;\n      }\n    }\n\n    this.out.write(this.outputText);\n  }\n}\n\nmodule.exports = SelectPrompt;\n"]},"metadata":{},"sourceType":"script"}